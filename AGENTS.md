# AI Agent Guide for thai-lint

**Purpose**: Primary entry point for AI agents working on this project

**Quick Start**: Read `.ai/docs/PROJECT_CONTEXT.md` for full context, then check `.ai/index.yaml` for navigation.

---

## Project Overview

The AI Linter - Lint and governance for AI-generated code across multiple languages. Identifies common mistakes, anti-patterns, and security issues in code generated by AI assistants.

**Type**: cli (Python CLI application)
**Status**: in-development

## Navigation

### Critical Documents
- **Project Context**: `.ai/docs/PROJECT_CONTEXT.md` - Architecture and philosophy
- **Index**: `.ai/index.yaml` - Repository structure and navigation
- **Layout**: `.ai/layout.yaml` - Directory organization

### How-To Guides
See `.ai/howto/` for step-by-step guides on common tasks.

### Templates
See `.ai/templates/` for reusable file templates and boilerplate.

## Roadmap-Driven Development

### When User Requests Planning

If the user says any of the following:
- "I want to plan out..."
- "I want to roadmap..."
- "Create a roadmap for..."
- "Plan the implementation of..."
- "Break down the feature..."

**Your Actions**:
1. **Read** `.ai/howtos/how-to-roadmap.md` for roadmap workflow guidance
2. **Use templates** from `.ai/templates/roadmap-*.md.template`
3. **Create roadmap** in `.roadmap/planning/[feature-name]/`
4. **Follow** the three-document structure:
   - PROGRESS_TRACKER.md (required - primary handoff document)
   - PR_BREAKDOWN.md (required for multi-PR features)
   - AI_CONTEXT.md (optional - architectural context)

### When User Requests Continuation

If the user says any of the following:
- "I want to continue with..."
- "Continue the roadmap for..."
- "What's next in..."
- "Resume work on..."

**Your Actions**:
1. **Check** `.roadmap/in-progress/` for active roadmaps
2. **Read** the roadmap's `PROGRESS_TRACKER.md` FIRST
3. **Follow** the "Next PR to Implement" section
4. **Update** PROGRESS_TRACKER.md after completing each PR

### Roadmap Lifecycle

```
planning/ â†’ in-progress/ â†’ complete/
   â†“             â†“              â†“
Created      Implementing    Archived
```

See `.ai/howtos/how-to-roadmap.md` for detailed workflow instructions.

## Development Guidelines

### Code Style
Python code follows PEP 8 style guide (enforced by Ruff linter).
- Use type hints (checked by MyPy)
- Docstrings required for all public functions (Google-style)
- Maximum cyclomatic complexity: B (enforced by Xenon)

### File Organization
See `.ai/layout.yaml` for the canonical directory structure.

**Key Directories**:
- Source code: `src/`
- Tests: `tests/`
- Documentation: `docs/`

### Documentation Standards
- All Python files require docstring headers per FILE_HEADER_STANDARDS.md
- Include: Purpose, Scope, Overview, Dependencies, Exports
- Use atemporal language (no "currently", "now", etc.)

## Build and Test Commands

### Development
```bash
# Install dependencies
make install

# Run linter (fast - for development)
make lint

# Run CLI help
python -m src.cli --help
```

### Testing
```bash
# Run tests
make test

# Run tests with coverage
make test-coverage
```

### Linting
```bash
# Fast linting (Ruff only)
make lint

# Comprehensive linting (all linters + type checking)
make lint-all

# Security scanning
make lint-security

# Complexity analysis
make lint-complexity

# ALL quality checks
make lint-full
```

### Formatting
```bash
# Auto-fix formatting and linting issues
make format
```

### Building
```bash
# Build Docker container
docker compose build

# Run CLI in container
docker compose run cli --help
```

## Git Workflow

### Commit Messages
Follow conventional commits format:
```
type(scope): Brief description

Detailed description if needed.

ðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)

Co-Authored-By: Claude <noreply@anthropic.com>
```

Types: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`

### Branch Strategy
- `main` - Production-ready code
- `feature/*` - New features
- `fix/*` - Bug fixes

### Before Committing
- [ ] All tests pass
- [ ] Code is linted (`make lint-full`)
- [ ] Documentation updated
- [ ] No secrets committed (pre-commit hooks check this)

## Security Considerations

- Never commit secrets or credentials
- Secrets should be in `.env` (gitignored)
- Validate user input
- Security scanning runs automatically (Bandit, Safety, Gitleaks)
- Run `make lint-security` before PRs

## Common Tasks

### Adding a New Feature
1. Check `.ai/features/` for existing feature documentation
2. Create feature branch: `git checkout -b feature/your-feature`
3. Implement feature following code style guidelines
4. Add tests in `tests/`
5. Update documentation
6. Run quality checks: `make lint-full`
7. Submit PR

### Adding a New CLI Command
See `.ai/howto/python-cli/how-to-add-cli-command.md`

### Adding a New Linter
1. Create linter module in `src/linters/`
2. Implement linter class with common interface
3. Add tests in `tests/test_linters/`
4. Register linter in CLI
5. Document linter rules

### Debugging
1. Check logs (configured in `src/cli.py`)
2. Run tests with verbose output: `pytest -v -s`
3. Use Python debugger: `python -m pdb -m src.cli`

## Resources

### Documentation
- CLI Architecture: `.ai/docs/python-cli/`
- How-to guides: `.ai/howtos/python-cli/`

### External Dependencies
See `pyproject.toml` for the complete and authoritative list of Python dependencies managed by Poetry.

## Getting Help

### When Stuck
1. Check `.ai/docs/` for context and architecture
2. Review `.ai/howto/` for guides
3. Check existing code for patterns
4. Review git history for similar changes
5. Read roadmap: `.roadmap/python-cli-install/`

### Project Roadmap
The installation is managed via roadmap at `.roadmap/python-cli-install/`:
- **PROGRESS_TRACKER.md** - Current status and next PR
- **PR_BREAKDOWN.md** - Detailed implementation steps
- **AI_CONTEXT.md** - Installation context

---

**Note**: This file is generated by ai-projen's ai-folder plugin. It will be extended by subsequent plugins (Python, Docker, CI/CD, etc.) as they are installed.

<!--
PLUGIN EXTENSION MARKERS
Plugins can add content between these markers:

### LANGUAGE_SPECIFIC_GUIDELINES
Language plugins add their specific conventions here.
### END_LANGUAGE_SPECIFIC_GUIDELINES

### INFRASTRUCTURE_COMMANDS
Infrastructure plugins add deployment/ops commands here.
### END_INFRASTRUCTURE_COMMANDS

### STANDARDS_CHECKLIST
Standards plugins add compliance checklists here.
### END_STANDARDS_CHECKLIST
-->
